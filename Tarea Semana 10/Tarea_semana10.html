<!DOCTYPE html>
<html>

<head>
	<title>Gestor de Libros</title>
<script type="text/javascript" src="JQUERY/jquery-3.4.1.min.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
<h1 align="center">CRUD de Libros</h1>
<TABLE>
<tr>
	<th>

<form id="formulario">
<h3>Agregar Libro</h3>
<label>Titulo</label>
<br>
<input class="w3-container" id="titulo" type="text">
<br>
<br>
<label>Autor</label>
<br>
<input class="w3-container" type="text" id="autor">
<br>
<br>
<label>Editorial</label>
<br>
<input class="w3-container" type = "text" name = "editorial" id= "editorial"/>
<br>
<br>
<label>Precio</label>
<br>
<input class="w3-container" type = "number" name = "precio" id= "precio"/>

<input type = "hidden" name = "hidden" id= "hidden"/>
<br>
<button class="w3-button w3-white w3-border"  name="Agregar" id="Agregar">
	Agregar
</button>
<br>




</form>

</th>
<th>
<h3>Actualizar Libro</h3>
<form id="formulario">
<label>Codigo del libro</label>
<br>
<input class="w3-container" id="identificador" type="number">
<br>
<br>
<label>Titulo</label>
<br>
<input class="w3-container" id="tituloA" type="text">
<br>
<br>
<label>Autor</label>
<br>
<input class="w3-container" type="text" id="autorA">
<br>
<br>
<label>Editorial</label>
<br>
<input class="w3-container" type = "text" name = "editorialA" id= "editorialA"/>
<br>
<br>
<label>Precio</label>
<br>
<input class="w3-container" type = "number" name = "precioA" id= "precioA"/>
<br>
<button class="w3-button w3-white w3-border"  name="Actualizar" id="Actualizar">
	Actualizar
</button>
<br>
<br>
</div>

</form>

</th>
<th>

<form left="200px" >
	<h3>Eliminar Libro</h3>
<label>Codigo de Libro</label>
<br>
<input class="w3-container"  type= "number" name = "identificadorE" id= "identificadorE" />
<br>

<button  class="w3-button w3-red"  name="Eliminar" id="Eliminar">
	Eliminar
</button>	
</form>

</th>

<th>

<form left="200px" >
	<h3>Procedimiento 1</h3>
<label>	Editorial</label>
<br>
<input class="w3-container"  type= "text" name = "editorialSP" id= "editorialSP" />
<br>

<button  class="w3-button w3-red"  name="Aumentar10" id="Aumentar10">
	Aumentar 10%
</button>	
</form>

</th>

<th>

<form left="200px" >
	<h3>Procedimiento 2</h3>
<label>	Editorial</label>
<br>
<input class="w3-container"  type= "text" name = "editorialSP2" id= "editorialSP2" />
<br>
<label>	Porcentaje</label>
<br>
<input class="w3-container"  type= "number" name = "porcentaje" id= "porcentaje" value="10" />
<br>

<button  class="w3-button w3-red"  name="AumentarPorcentaje" id="AumentarPorcentaje">
	Aumentar Porcentaje
</button>	
</form>

</th>
</tr>

</table>

<table class="w3-table-all" id="Tabla" name="Tabla">
 
  

</table>

<script>

$(document).ready(function()
{

$("#Tabla").load("ConsultarLibros.php");

function validacion()
{
var titulo;
var autor;
var editorial;
var precio;



titulo = document.getElementById('titulo').value;
autor = document.getElementById('autor').value;
editorial = document.getElementById('editorial').value;
precio = document.getElementById('precio').value;


	
if (titulo == "") 
{
 alert("Por favor digite el titulo");
 return false;

}
else if (autor == "") 
{
 	alert("Por favor digite el autor");
 	return false;
	
}
else if (editorial == "") 
{
 	alert("Por favor digite la editorial");
 	return false;
	
}
else if (precio == "") 
{
 	alert("Por favor digite el precio");
 	return false;
	
}



}
function validacionA()
{
var titulo;
var autor;
var editorial;
var precio;
var identificador;


identificador = document.getElementById('identificador').value;
titulo = document.getElementById('tituloA').value;
autor = document.getElementById('autorA').value;
editorial = document.getElementById('editorialA').value;
precio = document.getElementById('precioA').value;


	
if (titulo == "") 
{
 alert("Por favor digite el titulo");
 return false;

}
else if (autor == "") 
{
 	alert("Por favor digite el autor");
 	return false;
	
}
else if (editorial == "") 
{
 	alert("Por favor digite la editorial");
 	return false;
	
}
else if (precio == "") 
{
 	alert("Por favor digite el precio");
 	return false;
	
}
else if (identificador == "") 
{
 	alert("Por favor digite el identificador del libro");
 	return false;
	
}




}


function validacionE()
{

var identificadorE;


identificadorE = document.getElementById('identificadorE').value;



if (identificadorE == "") 
{
 alert("Por favor digite el codigo del libro");
 return false;

}
	

}




$('#Agregar').on("click",function(e){
e.preventDefault();

if(validacion()==false)
{
 
}
else
{
var titulo;
var autor;
var editorial;
var precio;


titulo = document.getElementById('titulo').value;
autor = document.getElementById('autor').value;
editorial = document.getElementById('editorial').value;
precio = document.getElementById('precio').value;



$("#Tabla").load("AgregarLibros.php", {titulo: titulo, autor: autor, editorial: editorial, precio: precio}, function()
{
$("#Tabla").load("ConsultarLibros.php");

alert("Datos insertados"); });
}
});

$('#Actualizar').on("click",function(e){
e.preventDefault();
if(validacionA()==false)
{
 
}
else
{
var titulo;
var autor;
var editorial;
var precio;
var identificador

identificador = document.getElementById('identificador').value;
titulo = document.getElementById('tituloA').value;
autor = document.getElementById('autorA').value;
editorial = document.getElementById('editorialA').value;
precio = document.getElementById('precioA').value;


$("#Tabla").load("ActualizarLibros.php", {titulo: titulo, autor: autor, editorial: editorial, precio: precio, identificador: identificador}, function()
{
$("#Tabla").load("ConsultarLibros.php");

alert("Datos actualizados"); });
}
});

$('#Eliminar').on("click",function(e){
e.preventDefault();
if(validacionE()==false)
{
 
}
else
{
var identificadorE;


identificadorE = document.getElementById('identificadorE').value;


$("#hidden").load("EliminarLibros.php", {identificadorE: identificadorE}, function(){
$("#Tabla").load("ConsultarLibros.php");

alert("Datos Eliminados"); });
}
});


$('#Aumentar10').on("click",function(e){
e.preventDefault();



var editorial;


editorial = document.getElementById('editorialSP').value;


$("#hidden").load("AumentarPrecio1.php", {editorial: editorial}, function(){
$("#Tabla").load("ConsultarLibros.php");

alert("El precio de la editorial aumento 10%");
});



});

$('#AumentarPorcentaje').on("click",function(e){
e.preventDefault();



var editorial;
var porcentaje;


editorial = document.getElementById('editorialSP2').value;
porcentaje = document.getElementById('porcentaje').value;



$("#hidden").load("AumentarPrecio2.php", {editorial: editorial, porcentaje:porcentaje}, function(){
$("#Tabla").load("ConsultarLibros.php");

alert("El precio de la editorial aumento");
});



});

});

</script>






</body>
</html> 
